@startuml
!theme mars

rectangle UMLTypes {
    class Diagram{
        classes: List[Class]
    }

    class Class{
        name: str
        attributes
        methods
    }
    class Method{
        name: str
        params
        returnType: str
    }

    class Attribute{
        name: str
        type: str
    }

    class Parameter{
        name: str
        type: str
    }


    Class *-down-> Attribute
    Class *-> Method
    Method *-down-> Parameter
    Method -[hidden]right- Attribute


    Diagram *-> Class
}

rectangle Decorator {
    class Method{
    }
    class Class{
    }
    class ClassStore {
        - classes: List[type]
        + add(cls: type)
        + get_all(): List[type]
    }
}


Decorator.Class .> ClassStore: uses

rectangle Services {
    class TypeHintService{
        get_type_hints(func: Callable) -> dict[str, type])
        get_type_hints(cls: class) -> dict[str, type])
    }

    class MethodFactory{
        create_method()
    }

    class AttributeFactory{
        create_attribute()
    }

    class ClassFactory{
        create_class()
    }

    ClassFactory ..> MethodFactory: uses
    ClassFactory ..> AttributeFactory: uses

    MethodFactory ..> TypeHintService: uses
    AttributeFactory ..> TypeHintService: uses
}

rectangle Diagrams{
    class DiagramGenerator {
        generate_diagram() : str
    }

    class PlantUMLConverter{
    }
}

DiagramGenerator ...> ClassFactory
DiagramGenerator ...> ClassStore: uses
DiagramGenerator ..> UMLTypes.Diagram
PlantUMLConverter .. UMLTypes.Diagram: converts
DiagramGenerator ..> PlantUMLConverter: uses
@enduml